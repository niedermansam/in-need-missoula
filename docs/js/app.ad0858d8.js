(function(){"use strict";var e={6502:function(e,t,r){var o=r(9242),a=r(1020),n=(r(8052),r(3396));function s(e,t,r,o,a,s){const i=(0,n.up)("NavBar"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i),(0,n.Wm)(l)],64)}const i={class:"navbar navbar-expand-lg bg-light"},l={class:"container-fluid"},c=(0,n._)("a",{class:"navbar-brand",href:"#"},"Need Help Missoula",-1),u={class:"navbar-nav"};function d(e,t,r,o,a,s){const d=(0,n.up)("MainSearchBar"),g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",i,[(0,n._)("div",l,[c,(0,n.Wm)(d,{style:{"max-width":"300px"}}),(0,n._)("div",u,[(0,n.Wm)(g,{class:"nav-link","aria-current":"page",to:{name:"organizations"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Organizations")])),_:1}),(0,n.Wm)(g,{class:"nav-link",to:{name:"resources"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Resources")])),_:1})])])])}const g={class:"input-group mb-3"},p={type:"button",class:"input-group-text btn btn-outline-secondary"};function f(e,t,r,o,a,s){const i=(0,n.up)("BIconSearch"),l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("input",{ref:"inputBar",onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),type:"search",class:"form-control","aria-label":"Search Form"},null,544),(0,n.Wm)(l,{to:`/search/?q=${e.searchText}`},{default:(0,n.w5)((()=>[(0,n._)("button",p,[(0,n.Wm)(i)])])),_:1},8,["to"])])}var v=r(4870),y=r(6060);const h=(e,t)=>{let r;switch(t||(r=1),e){case"Housing":return{color:`rgba(10, 132, 165, ${r})`,emoji:"🏠"};case"Food":return{color:`rgba(156, 216, 102, ${r})`,emoji:"🥪"};case"Legal":return{color:`rgba(128, 128, 128, ${r})`,emoji:"⚖️"};case"Academics":return{color:`rgba(112, 0, 46, ${r})`,emoji:"📖"};case"Healthcare":return{color:`rgba(255, 160, 87, ${r})`,emoji:"💊"};default:return{color:"blue",emoji:""}}},b=()=>Array.from(["Academics","Food","Healthcare","Housing","Legal","Misc"]);var w,m,k,S,_,D,x;r(7658),r(541);function F(e,t,r){return r.indexOf(e)===t}(function(e){e["Easy"]="Easy",e["Hard"]="Hard",e["Medium"]="Medium"})(w||(w={})),function(e){e["Food"]="Food",e["Housing"]="Housing",e["Healthcare"]="Healthcare",e["Legal"]="Legal",e["Misc"]="Misc",e["Academics"]="Academics"}(m||(m={})),function(e){e["favorite"]="fav",e["filtered"]="filter",e["lessInterested"]="down",e["none"]="none"}(k||(k={})),function(e){e[e["favorite"]=1]="favorite",e[e["none"]=0]="none",e[e["lessInterested"]=-1]="lessInterested",e[e["filtered"]=-2]="filtered"}(S||(S={})),function(e){e[e["deleteNone"]=0]="deleteNone",e[e["insertAfer"]=1]="insertAfer",e[e["removeOne"]=1]="removeOne"}(_||(_={})),function(e){e[e["before"]=1]="before",e[e["after"]=-1]="after"}(D||(D={})),function(e){e[e["doesntexist"]=-1]="doesntexist"}(x||(x={}));const z=(0,a.Q_)("tagStore",(()=>{const e=A(),t=H(),r=Z(),o=(0,v.iH)([""]),a=(0,v.iH)({}),s=(0,v.iH)({});async function i(){await t.loadData();const e=t.arr?.reduce(((e,t)=>{if(!t.Tags)return[""];if(!s.value)return[""];const r=s.value[t.Provides];return!r&&t&&t.Tags?s.value[t.Provides]=[...t.Tags]:t&&t.Tags&&s.value[t.Provides].push(...t.Tags),t.Tags.forEach((r=>{a.value[r]?a.value[r].categories=[t.Provides,...a.value[r].categories]:a.value[r]={categories:[t.Provides],status:k.none,priority:S.none},-1===e.indexOf(r)&&e.push(r)})),e||[""]}),[]);//! end loop making tag array
Object.keys(s.value).forEach((e=>{s.value[e]=s.value[e].filter(F)})),e&&(o.value=e)}//! end of loadAllTags
const l=(0,v.iH)([""]);function c(e){const t=l.value.indexOf(e);t!==x.doesntexist&&l.value.splice(t,1)}const u=(0,v.iH)([""]);function d(e){const r=u.value.indexOf(e);r!==x.doesntexist&&(u.value.splice(r,1),t.updateAllPriorities())}const g=(0,v.iH)([""]);function p(e){const r=g.value.indexOf(e);r!==x.doesntexist&&(g.value.splice(r,1),t.updateAllPriorities())}const f=(0,v.iH)([""]);function y(e,t,o){if(!1===r.tagSettings.sortTags)return;const n=f.value.indexOf(e);f.value.splice(n,_.removeOne);const s=f.value.map((e=>a.value[e].priority),[]);if(o===S.lessInterested){const t=s.indexOf(S.lessInterested),r=s.indexOf(S.filtered);let o=s.length;t!==x.doesntexist?o=t:r!==x.doesntexist&&(o=r),f.value.splice(o,_.deleteNone,e)}else if(o===S.filtered){const t=s.indexOf(S.filtered),r=t>x.doesntexist?t:s.length;f.value.splice(r,_.deleteNone,e)}else if(o===S.favorite){const t=s.lastIndexOf(S.favorite)+_.insertAfer;t===x.doesntexist?f.value.unshift(e):f.value.splice(t,_.deleteNone,e)}else if(o===S.none){const r=s.indexOf(S.none),o=s.lastIndexOf(S.none);t===S.favorite?f.value.splice(r,_.deleteNone,e):f.value.splice(o+_.insertAfer,_.deleteNone,e)}else f.value.push(e)}const h=(e,t)=>{const r=a.value[e].priority,o=a.value[t].priority;return r>o?D.after:r<o?D.before:e.localeCompare(t)};async function b(){o.value[0]||await i();const t=e.filters;let r=Object.entries(s.value).filter((e=>{const r=e[0];return t.indexOf(r)===x.doesntexist})).flatMap((e=>{const t=e[1];return t})).filter(F);r||(r=["No Active Categories :("]),f.value=r.sort(h)}function w(){const e=[...l.value];return e.indexOf("")!==x.doesntexist&&e.splice(e.indexOf(""),1),new RegExp(e.join("|").replace("^\\|",""))}function m(e){const r=Number(a.value[e].priority);a.value[e].status=k.none,a.value[e].priority=S.none,d(e),c(e),p(e),y(e,r,S.none),t.updateAllPriorities()}function z(){Object.keys(a.value).forEach((e=>{m(e)})),t.updateAllPriorities(),b()}function I(e,t){switch(t){case S.favorite:a.value[e].status=k.favorite;break;case S.none:a.value[e].status=k.none;break;case S.lessInterested:a.value[e].status=k.lessInterested;break;case S.filtered:a.value[e].status=k.filtered;break;default:console.error("Default case in tagStore.priorityToStatus() triggered."),a.value[e].status=k.none,a.value[e].priority=S.none}}function T(e){const t=Number(a.value[e].priority);let r=t+1;r>S.favorite&&(r=S.favorite),a.value[e].priority=r,I(e,r),y(e,t,r)}function C(e){const t=Number(a.value[e].priority);let r=t-1;r<S.filtered&&(r=S.filtered),a.value[e].priority=r,I(e,r),y(e,t,r)}function O(e){const r=Number(a.value[e].priority);a.value[e].status=k.favorite,a.value[e].priority=S.favorite,c(e),p(e),y(e,r,S.favorite),null!==t.arr&&(u.value=[...u.value,e],t.updateAllPriorities())}function j(e){d(e),m(e)}function P(e){a.value[e].status===k.favorite?j(e):O(e)}const B=(0,n.Fl)((()=>e=>-1!==u.value.indexOf(e))),L=(0,n.Fl)((()=>e=>{if(!e)return!1;if(l.value.length<=1)return!1;const t=e.reduce(((e,t)=>`${e} ${t}`),""),r=w();return r.test(t)}));function E(e){const t=Number(a.value[e].priority);l.value=[...l.value,e],a.value[e].status=k.filtered,a.value[e].priority=S.filtered,d(e),p(e),y(e,t,S.filtered)}function N(e){m(e),c(e)}function W(e){const t=a.value[e].status===k.filtered;t?N(e):E(e)}const $=(0,n.Fl)((()=>e=>-1!==l.value.indexOf(e)));function q(e){const r=Number(a.value[e].priority);a.value[e].status=k.lessInterested,a.value[e].priority=S.lessInterested,d(e),c(e),y(e,r,S.lessInterested),g.value=[...g.value,e],t.updateAllPriorities()}function R(e){m(e),p(e)}function M(e){a.value[e].status===k.lessInterested?R(e):q(e)}const U=(0,n.Fl)((()=>e=>-1!==g.value.indexOf(e)));return{allTags:o,loadAllTags:i,tagLookup:a,activeCategoryTags:f,updateActiveCategoryTags:b,addFavorite:O,removeFavorite:j,toggleFavorite:P,isFavorite:B,filters:l,isFiltered:$,isFilterInArray:L,toggleFilter:W,addFilter:E,removeFilter:N,removeLessInterested:R,addLessInterested:q,togglelessInterested:M,isLessInterested:U,resetPriorityAll:z,resetPriority:m,bumpPriority:T,dropPriority:C}}));var I=z;const T=(0,a.Q_)("categoryFilterStore",(()=>{const e=(0,v.iH)(["Academics","Legal","Misc"]),t=I(),r=(0,n.Fl)((()=>new RegExp(e.value.join("|"))));function o(t){const r=e.value.indexOf(t);return-1!==r}function a(r){e.value=[...e.value,r],t.updateActiveCategoryTags()}function s(r){const o=e.value.indexOf(r);o<-1||(e.value.splice(o,1),t.updateActiveCategoryTags())}function i(t){const r=-1!==e.value.indexOf(t);return r?s(t):a(t)}function l(){e.value=[""],t.updateActiveCategoryTags()}function c(){e.value=b(),t.updateActiveCategoryTags()}return{filters:e,getFilter:r,isFiltered:o,toggleFilter:i,addFilter:a,removeFilter:s,clearFilters:l,filterAll:c}}));var A=T;function C(e){return`https://need-help-missoula.herokuapp.com${e}`}const O=C("/organizations"),j=(0,a.Q_)("organizationStore",{state:()=>({loaded:!1,loading:!1,error:"",arr:[],lookup:{}}),actions:{async loadData(){if(!this.loaded){this.loading=!0;try{const e=await fetch(O,{headers:{accept:"application/json"}});if(e.ok){const t=await e.json();this.arr=t,this.createLookupTable(),this.loaded=!0,this.loading=!1}else this.error="Error fetching data",this.loading=!1}catch(e){this.error=`Error fetching data. ${e.message}`,this.loading=!1}}},createLookupTable(){this.arr&&this.arr.forEach((e=>{this.lookup[e.id]=e}))}}});var P=j;const B=C("/resources"),L=(0,a.Q_)("resourceStore",{state:()=>({dataLoaded:!1,loading:!1,error:"",arr:[],lookup:{}}),actions:{async loadData(){if(!0!==this.dataLoaded){this.loading=!0;try{const e=await fetch(B,{headers:{accept:"application/json"}});if(!0===e.ok){const t=await e.json();this.arr=t,this.createLookupTable(),this.dataLoaded=!0,this.loading=!1}else this.error="Error fetching data",this.loading=!1}catch(e){this.error=`Error fetching data. ${e.message}`,this.loading=!1}}},createLookupTable(){null!==this.arr&&this.arr.forEach((e=>{this.lookup[e.id]=e,this.lookup[e.id].priority=S.none}))},changeResourcePriority(e,t){const r=this.arr?.indexOf(e);void 0!==r&&null!==this.arr&&(this.arr[r].priority=t)},updateAllPriorities(){if(null===this.arr)return;const e=I();this.arr.forEach((t=>{const r=t.Tags.reduce(((t,r)=>t+e.tagLookup[r].priority),0);this.changeResourcePriority(t,r)}))}},getters:{filteredArray:e=>{if(!e.arr)return[];const t=A(),r=I(),o=e.arr.filter((e=>{if(!e.Tags)return!1;const o=t.isFiltered(e.Provides);if(o)return!1;const a=r.isFilterInArray(e.Tags);return!a}));return o.sort(((e,t)=>t.priority-e.priority))},userSearchResults:e=>()=>{const t=Z(),r=t.searchRegEx;if(null===e.arr)return[];const o=e.arr.filter((e=>{const t=`${e.Name} \n          ${e.Provides} ${e.Tags.join(" ")}\n          ${e.Notes}`;return r.test(t)}));return o}}});var H=L;const E=C("/files"),N=(0,a.Q_)("fileStore",{state:()=>({loaded:!1,loading:!1,error:"",arr:[],lookup:{}}),actions:{async loadData(){if(!this.loaded){this.loading=!0;try{const e=await fetch(E,{headers:{accept:"application/json"}});if(e.ok){const t=await e.json();this.arr=t,this.createLookupTable(),this.loaded=!0,this.loading=!1}else this.error="Error fetching data",this.loading=!1}catch(e){this.error=`Error fetching data. ${e.message}`,this.loading=!1}}},createLookupTable(){this.arr&&this.arr.forEach((e=>{this.lookup[e.id]=e}))}}});var W=N;function $(e){const t=e.split("").map(((t,r,o)=>r<o.length-1?`${e.substr(0,r)+t}?.?${e.substr(r+1)}`:""));if(!t)return"";t.pop();const r=`( |^)(${t.join("|")})`;return console.log(r),r}const q=(0,a.Q_)("userStore",(()=>{const e=I(),t=(0,v.iH)({sortTags:!1}),r=(0,v.iH)(""),o=(0,n.Fl)((()=>RegExp($(r.value)||"","gi")));function a(){t.value.sortTags=!t.value.sortTags,e.updateActiveCategoryTags()}function s(e){r.value=e}return{tagSettings:t,toggleSortTags:a,searchString:r,updateSearchString:s,searchRegEx:o}}));var Z=q,R=(0,n.aZ)({components:{BIconSearch:y.Lln},setup(){const e=(0,v.iH)(""),t=(0,v.iH)(null),r=Z();function o(o){if(!t.value)return;const a=t.value.value.replaceAll(" ","+");e.value=a,r.updateSearchString(a)}return{searchText:e,handleInput:o,inputBar:t}}}),M=r(89);const U=(0,M.Z)(R,[["render",f]]);var K=U,Y=(0,n.aZ)({components:{MainSearchBar:K},setup(){}});const Q=(0,M.Z)(Y,[["render",d]]);var G=Q,V=(0,n.aZ)({components:{NavBar:G}});const X=(0,M.Z)(V,[["render",s]]);var J=X,ee=r(2483);const te={class:"home container"},re=(0,n._)("h1",null,"Welcome to Need Help Missoula",-1),oe=(0,n._)("p",null," We hope to provide an accessible, easy to use portal to resources and organizations that help those in need in Missoula and Western Montana. ",-1),ae=(0,n._)("h2",null,"How it's organized",-1),ne=(0,n._)("p",null,"The two main pages of this site are the Organizations page, and Resources page.",-1),se=(0,n._)("h3",null,"Resources",-1),ie=(0,n._)("p",null,[(0,n.Uk)(" The "),(0,n._)("a",{href:"/#/resources"},"resources page"),(0,n.Uk)(" a filterable database of different services, programs, mutual aid efforts, and more. ")],-1),le=(0,n._)("h3",null,"Organizations",-1),ce=(0,n._)("p",null,[(0,n.Uk)(" The "),(0,n._)("a",{href:"/#/organizations"},"organizations page"),(0,n.Uk)(" is your source for information of different organizations in the Missoula area, where they get their funding, who they serve, and how to contact them. ")],-1);function ue(e,t,r,o,a,s){const i=(0,n.up)("CategorySelector"),l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",te,[re,(0,n.Wm)(i),oe,ae,ne,(0,n.Wm)(l,{class:"nav-link","aria-current":"page",to:{name:"resources"}},{default:(0,n.w5)((()=>[se])),_:1}),ie,(0,n.Wm)(l,{class:"nav-link","aria-current":"page",to:{name:"organizations"}},{default:(0,n.w5)((()=>[le])),_:1}),ce])}var de=r(7139);const ge={key:0},pe=["onClick"];function fe(e,t,r,o,a,s){return e.providesArr?((0,n.wg)(),(0,n.iD)("div",ge,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.providesArr,(t=>((0,n.wg)(),(0,n.iD)("button",{type:"button",onClick:r=>e.categoryFilters.toggleFilter(t),class:(0,de.C_)("btn "+(e.categoryFilters.isFiltered(t)?"btn-light":"")),key:t,style:(0,de.j5)(e.categoryFilters.isFiltered(t)?"":`background-color: ${e.buttonStyles(t).color}`)},(0,de.zw)(e.buttonStyles(t).emoji)+" "+(0,de.zw)(t),15,pe)))),128)),(0,n._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=t=>e.categoryFilters.clearFilters())}," View All "),(0,n._)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=t=>e.categoryFilters.filterAll())}," Hide All ")])):(0,n.kq)("",!0)}var ve=(0,n.aZ)({components:{},setup(){const e=H(),t=P();async function r(){await e.loadData(),await t.loadData()}r();const o=A(),a=h,n=b();return{orgStore:t,providesArr:n,categoryFilters:o,resourceStore:e,buttonStyles:a}}});const ye=(0,M.Z)(ve,[["render",fe],["__scopeId","data-v-3ef43d68"]]);var he=ye;const be={class:"card",style:{width:"100%"}},we={key:0,class:"card-body"},me={class:"card-title"},ke={class:"card-text"};function Se(e,t,r,o,a,s){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",be,[r.organization?((0,n.wg)(),(0,n.iD)("div",we,[(0,n._)("h5",me,(0,de.zw)(r.organization.Name),1),(0,n._)("span",{class:"badge rounded-pill",style:(0,de.j5)({backgroundColor:o.providesChipStyles(r.organization.Expertise).color})},(0,de.zw)(o.providesChipStyles(r.organization.Expertise).emoji)+" "+(0,de.zw)(r.organization.Expertise),5),(0,n._)("p",ke,(0,de.zw)(r.organization.Notes),1),(0,n.Wm)(i,{to:"/organizations/"+r.organization.id,class:"btn btn-primary"},{default:(0,n.w5)((()=>[(0,n.Uk)(" More Information")])),_:1},8,["to"])])):(0,n.kq)("",!0)])}var _e={props:{organization:{type:Object}},setup(){const e=h;return{providesChipStyles:e}}};const De=(0,M.Z)(_e,[["render",Se]]);var xe=De;const Fe=e=>((0,n.dD)("data-v-51a3758d"),e=e(),(0,n.Cn)(),e),ze={key:0,class:(0,de.C_)("card resource-card")},Ie={key:0,class:"card-body"},Te={class:"card-title"},Ae={class:"flex-container"},Ce=Fe((()=>(0,n._)("h6",{class:"provides-header"},"Provides:",-1))),Oe={class:"flex-container"},je={key:0,class:"card-text"},Pe={key:1},Be=Fe((()=>(0,n._)("button",{class:"btn btn-primary"},"More Information",-1)));function Le(e,t,r,o,a,s){const i=(0,n.up)("router-link");return o.isFiltered.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ze,[r.resource?((0,n.wg)(),(0,n.iD)("div",Ie,[(0,n._)("h5",Te,(0,de.zw)(r.resource.Name),1),(0,n._)("p",null,"Priority: "+(0,de.zw)(r.resource.priority),1),(0,n._)("div",Ae,[Ce,(0,n._)("span",{class:"badge rounded-pill flex-container",style:(0,de.j5)({backgroundColor:o.categoryChipStyles(r.resource.Provides).color})},(0,de.zw)(r.resource.Provides)+" "+(0,de.zw)(o.categoryChipStyles(r.resource.Provides).emoji),5)]),(0,n._)("div",Oe,[(0,n._)("p",null,[(0,n.Uk)("Tags: "),(0,n._)("span",null,(0,de.zw)(o.tagList),1)])]),r.resource.Notes?((0,n.wg)(),(0,n.iD)("p",je,(0,de.zw)(r.resource.Notes.slice(0,200).replace(/ \w+$| $/i,"...")),1)):(0,n.kq)("",!0),r.resource["Organizations"]?((0,n.wg)(),(0,n.iD)("div",Pe,[(0,n.Uk)(" Get help from "),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.resource["Organizations"],(e=>((0,n.wg)(),(0,n.j4)(i,{style:{margin:"5px"},key:e,to:"/organizations/"+e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,de.zw)(o.organizationStore.lookup[e].Name),1)])),_:2},1032,["to"])))),128))])):(0,n.kq)("",!0),(0,n.Wm)(i,{to:"/resource/"+r.resource.id},{default:(0,n.w5)((()=>[Be])),_:1},8,["to"])])):(0,n.kq)("",!0)]))}var He={props:{resource:{type:Object}},setup(e){const t=P(),r=I(),o=(0,v.iH)(e.resource&&e.resource.Tags?e.resource.Tags:[""]),a=o.value.reduce(((e,t)=>`${e}, ${t}`)),n=(0,v.qj)({value:!1}),s=(0,v.qj)({value:!1});function i(){let e=!1,t=!1;o.value.forEach((o=>{r.tagLookup[o]&&(r.tagLookup[o].status===k.favorite?(n.value=!0,t=!0):n.value=!1,r.tagLookup[o].status===k.filtered?(s.value=!0,e=!0):e||(s.value=!1))}))}return r.$subscribe((()=>{i()})),{categoryChipStyles:h,tagList:a,tagStore:r,organizationStore:t,isFavorite:n,isFiltered:s}}};const Ee=(0,M.Z)(He,[["render",Le],["__scopeId","data-v-51a3758d"]]);var Ne=Ee;const We=e=>((0,n.dD)("data-v-af03dffc"),e=e(),(0,n.Cn)(),e),$e={key:0,class:"accordion accordion-flush",id:"tag-filter-menu"},qe={class:"accordion-item"},Ze=We((()=>(0,n._)("h2",{class:"accordion-header",id:"flush-headingOne"},[(0,n._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," Tags ")],-1))),Re={id:"flush-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"},Me={class:"accordion-body"};function Ue(e,t,r,a,s,i){const l=(0,n.up)("BIconArrowRepeat"),c=(0,n.up)("BIconArrowDownUp"),u=(0,n.up)("BIconLock"),d=(0,n.up)("TagButton");return e.tagFilterStore.allTags?((0,n.wg)(),(0,n.iD)("div",$e,[(0,n._)("div",qe,[Ze,(0,n._)("div",Re,[(0,n._)("div",Me,[(0,n._)("button",{onClick:t[0]||(t[0]=(...t)=>e.tagFilterStore.resetPriorityAll&&e.tagFilterStore.resetPriorityAll(...t)),type:"button",class:"btn btn-outline-secondary"},[(0,n.Wm)(l),(0,n.Uk)(" Reset Tags ")]),(0,n._)("button",{onClick:t[1]||(t[1]=(...t)=>e.userStore.toggleSortTags&&e.userStore.toggleSortTags(...t)),type:"button",class:"btn btn-outline-secondary"},[e.userStore.tagSettings.sortTags?((0,n.wg)(),(0,n.j4)(u,{key:1})):((0,n.wg)(),(0,n.j4)(c,{key:0})),(0,n.Uk)(" "+(0,de.zw)(e.userStore.tagSettings.sortTags?"Lock Tags":"Sort Tags"),1)]),(0,n._)("div",{class:"tag-container",style:(0,de.j5)(`--n-tags: ${e.tagFilterStore.activeCategoryTags.length}`)},[e.tagFilterStore.activeCategoryTags[0]?((0,n.wg)(),(0,n.j4)(o.W3,{key:0,tag:"div",name:"fade",class:"tag-container"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tagFilterStore.activeCategoryTags,(e=>((0,n.wg)(),(0,n.j4)(d,{key:e||"tag",tag:e},null,8,["tag"])))),128))])),_:1})):(0,n.kq)("",!0)],4)])])])])):(0,n.kq)("",!0)}const Ke=["aria-label"],Ye={key:0},Qe={key:1},Ge={key:0},Ve={key:1},Xe={key:0},Je={key:1};function et(e,t,r,a,s,i){const l=(0,n.up)("BIconArrowBarDown"),c=(0,n.up)("BIconArrowUp"),u=(0,n.up)("BIconArrowBarUp"),d=(0,n.up)("BIconArrowDown"),g=(0,n.up)("BIconEye"),p=(0,n.up)("BIconXLg");return(0,n.wg)(),(0,n.iD)("div",{class:"btn-group tag-btn",role:"group",ref:"groupRef",onKeydown:[t[10]||(t[10]=(0,o.D2)((t=>e.bumpPriority(e.tag)),["up"])),t[11]||(t[11]=(0,o.D2)((t=>e.bumpPriority(e.tag)),["w"])),t[12]||(t[12]=(0,o.D2)((t=>e.dropPriority(e.tag)),["down"])),t[13]||(t[13]=(0,o.D2)((t=>e.dropPriority(e.tag)),["s"])),t[14]||(t[14]=(0,o.D2)((t=>e.tagStore.addFilter(e.tag)),["esc"])),t[15]||(t[15]=(0,o.D2)((t=>e.tagStore.addFilter(e.tag)),["x"])),t[16]||(t[16]=(0,o.D2)((t=>e.tagStore.resetPriority(e.tag)),["delete"])),t[17]||(t[17]=(0,o.D2)((0,o.iM)((t=>e.tagStore.resetPriority(e.tag)),["exact"]),["r"])),t[18]||(t[18]=(0,o.D2)((0,o.iM)((t=>e.tagStore.resetPriorityAll()),["ctrl","exact"]),["z"]))],"aria-label":`${e.tag} options buttons`},[(0,n._)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.tagStore.toggleFavorite(e.tag)),onKeydown:[t[1]||(t[1]=(0,o.D2)(((...t)=>e.focusLessInterested&&e.focusLessInterested(...t)),["right"])),t[2]||(t[2]=(0,o.D2)(((...t)=>e.focusFilter&&e.focusFilter(...t)),["left"]))],tabIndex:"0",ref:"favoriteButton",class:(0,de.C_)(`btn tag-utility-btn\n    ${e.getButtonStyles().background}`)},[e.tagStore.isFavorite(e.tag)?((0,n.wg)(),(0,n.iD)("span",Ye,[(0,n.Wm)(l)])):((0,n.wg)(),(0,n.iD)("span",Qe,[(0,n.Wm)(c)]))],34),(0,n._)("button",{type:"button",tabIndex:"-1",class:(0,de.C_)(`btn tag-main-btn ${e.getButtonStyles().background}`),onClick:t[3]||(t[3]=t=>e.tagStore.resetPriority(e.tag))},(0,de.zw)(e.tag),3),(0,n._)("button",{type:"button",tabIndex:"-1",ref:"lessInterestedButton",onClick:t[4]||(t[4]=t=>e.tagStore.togglelessInterested(e.tag)),onKeydown:[t[5]||(t[5]=(0,o.D2)(((...t)=>e.focusFilter&&e.focusFilter(...t)),["right"])),t[6]||(t[6]=(0,o.D2)(((...t)=>e.focusFavorite&&e.focusFavorite(...t)),["left"]))],class:(0,de.C_)(`btn tag-utility-btn ${e.getButtonStyles().background}`)},[e.tagStore.isLessInterested(e.tag)?((0,n.wg)(),(0,n.iD)("span",Ge,[(0,n.Wm)(u)])):((0,n.wg)(),(0,n.iD)("span",Ve,[(0,n.Wm)(d)]))],34),(0,n._)("button",{type:"button",tabIndex:"-1",ref:"filterButton",onClick:t[7]||(t[7]=t=>e.tagStore.toggleFilter(e.tag)),onKeydown:[t[8]||(t[8]=(0,o.D2)(((...t)=>e.focusLessInterested&&e.focusLessInterested(...t)),["left"])),t[9]||(t[9]=(0,o.D2)(((...t)=>e.focusFavorite&&e.focusFavorite(...t)),["right"]))],class:(0,de.C_)(`btn tag-utility-btn ${e.getButtonStyles().background}`)},[e.tagStore.isFiltered(e.tag)?((0,n.wg)(),(0,n.iD)("span",Xe,[(0,n.Wm)(g)])):((0,n.wg)(),(0,n.iD)("span",Je,[(0,n.Wm)(p)]))],34)],40,Ke)}var tt=(0,n.aZ)({props:["tag"],components:{BIconXLg:y.hOD,BIconArrowUp:y.BNN,BIconArrowDown:y.pfg,BIconArrowBarDown:y.Btd,BIconArrowBarUp:y.dVK,BIconEye:y.unT},setup(e){const t=(0,v.iH)(null),r=(0,v.iH)(null),o=(0,v.iH)(null),a=I(),n=(0,v.iH)(k.favorite),s=(0,v.qj)({background:"btn-light",text:"grey"});function i(){if(!a.tagLookup[e.tag].status)return s;switch(a.tagLookup[e.tag].status){case k.none:s.background="btn-light",s.text="grey";break;case k.favorite:s.background="btn-success",s.text="white";break;case k.filtered:s.background="btn-danger",s.text="white";break;case k.lessInterested:s.background="btn-secondary",s.text="white";break;default:s.background="btn-light",s.text="grey";break}return s}function l(e){e&&(document.activeElement?.setAttribute("tabIndex","-1"),e.focus(),e.setAttribute("tabIndex","0"))}function c(){setTimeout((()=>{l(r.value),n.value=k.lessInterested}),100)}function u(){l(o.value),setTimeout((()=>{n.value=k.filtered}),100)}function d(){setTimeout((()=>{l(t.value),n.value=k.favorite}),100)}function g(){switch(n.value){case k.favorite:t.value?.focus();break;case k.lessInterested:r.value?.focus();break;case k.filtered:o.value?.focus();break;default:t.value?.focus()}}function p(e){a.bumpPriority(e),setTimeout(g,100)}function f(e){a.dropPriority(e),setTimeout(g,100)}return{focusLessInterested:c,focusFavorite:d,focusFilter:u,favoriteButton:t,filterButton:o,lessInterestedButton:r,tagStore:a,getButtonStyles:i,buttonStyles:s,bumpPriority:p,dropPriority:f}}});const rt=(0,M.Z)(tt,[["render",et],["__scopeId","data-v-5b097861"]]);var ot=rt,at=(0,n.aZ)({components:{TagButton:ot,TransitionGroup:o.W3,BIconArrowDownUp:y.Q48,BIconLock:y.MJF,BIconArrowRepeat:y.Bxx},setup(){const e=I(),t=H(),r=Z();async function o(){await t.loadData(),await e.loadAllTags()}function a(t,r){const o=e.tagLookup[t].priority,a=e.tagLookup[r].priority;return a-o}return o(),e.updateActiveCategoryTags(),{tagFilterStore:e,sortTagList:a,userStore:r}}});const nt=(0,M.Z)(at,[["render",Ue],["__scopeId","data-v-af03dffc"]]);var st=nt;const it=e=>((0,n.dD)("data-v-8ad77dc6"),e=e(),(0,n.Cn)(),e),lt={class:"card file-card",style:{width:"35vw"}},ct={key:0,class:"thumb-holder"},ut=["src"],dt={key:1,class:"card-body"},gt={class:"card-title"},pt={class:"card-text"},ft=it((()=>(0,n._)("button",{class:"btn btn-primary"}," Open File",-1)));function vt(e,t,r,o,a,s){return(0,n.wg)(),(0,n.iD)("div",lt,[o.file&&o.file.Attachments?((0,n.wg)(),(0,n.iD)("div",ct,[(0,n._)("img",{src:o.file.Attachments[0].thumbnails.large.url,class:"card-img-top file-thumb",alt:"..."},null,8,ut)])):(0,n.kq)("",!0),o.file?((0,n.wg)(),(0,n.iD)("div",dt,[(0,n._)("h5",gt,(0,de.zw)(o.file.Name),1),(0,n._)("p",pt,(0,de.zw)(o.file.Description),1),ft])):(0,n.kq)("",!0)])}var yt={props:{id:{type:String}},setup(e){const t=h,r=W(),o=(0,v.iH)(r.lookup[e.id||""]);return{providesChipStyles:t,fileStore:r,file:o}}};const ht=(0,M.Z)(yt,[["render",vt],["__scopeId","data-v-8ad77dc6"]]);var bt=ht,wt=(0,n.aZ)({components:{CategorySelector:he},setup(){const e=H(),t=P();async function r(){await e.loadData(),await t.loadData()}r();const o=A(),a=I(),n=e.arr?.map((e=>e.Provides)).filter(F).sort(((e,t)=>e-t));return{orgStore:t,providesArr:n,categoryFilters:o,resourceStore:e,tagStore:a}}});const mt=(0,M.Z)(wt,[["render",ue]]);var kt=mt;const St={class:"organizations"},_t=(0,n._)("h1",null,"Organizations",-1),Dt={key:0},xt={key:1},Ft={key:2};function zt(e,t,r,o,a,s){const i=(0,n.up)("CategorySelector"),l=(0,n.up)("OrganizationCard");return(0,n.wg)(),(0,n.iD)("div",St,[_t,(0,n.Wm)(i),(0,n._)("div",null,[e.orgStore.loading?((0,n.wg)(),(0,n.iD)("h3",Dt,"Loading...")):(0,n.kq)("",!0),!e.orgStore.loading&&e.orgStore.error?((0,n.wg)(),(0,n.iD)("h3",xt,(0,de.zw)(e.orgStore.error),1)):(0,n.kq)("",!0),null!=e.orgStore.arr?((0,n.wg)(),(0,n.iD)("div",Ft,[(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.orgStore.arr.filter((t=>!e.categoryFilters.isFiltered(t.Expertise))),(e=>((0,n.wg)(),(0,n.j4)(l,{key:e.id,organization:e},null,8,["organization"])))),128))])])):(0,n.kq)("",!0)])])}var It=(0,n.aZ)({components:{OrganizationCard:xe,CategorySelector:he},setup(){const e=P(),t=H(),r=A();async function o(){await e.loadData(),await t.loadData()}o();const a=r.getFilter;return{orgStore:e,filterRegEx:a,categoryFilters:r}}});const Tt=(0,M.Z)(It,[["render",zt]]);var At=Tt;const Ct=e=>((0,n.dD)("data-v-2422a7c4"),e=e(),(0,n.Cn)(),e),Ot={class:"resourceStore"},jt=Ct((()=>(0,n._)("h1",null,"Resources",-1))),Pt={key:0},Bt={key:1};function Lt(e,t,r,a,s,i){const l=(0,n.up)("CategorySelector"),c=(0,n.up)("TagSelector"),u=(0,n.up)("ResourceCard");return(0,n.wg)(),(0,n.iD)("div",Ot,[jt,(0,n.Wm)(l),(0,n.Wm)(c),(0,n._)("div",null,[e.resourceStore.loading?((0,n.wg)(),(0,n.iD)("h3",Pt,"Loading...")):(0,n.kq)("",!0),!e.resourceStore.loading&&e.resourceStore.error?((0,n.wg)(),(0,n.iD)("h3",Bt,(0,de.zw)(e.resourceStore.error),1)):(0,n.kq)("",!0),e.resourceStore.filteredArray?((0,n.wg)(),(0,n.j4)(o.W3,{key:2,tag:"div",name:"fade",class:"resources-container"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resourceStore.filteredArray,(e=>((0,n.wg)(),(0,n.j4)(u,{style:{margin:"5px"},key:e.id,resource:e},null,8,["resource"])))),128))])),_:1})):(0,n.kq)("",!0)])])}var Ht=(0,n.aZ)({name:"ResourcesView",components:{ResourceCard:Ne,CategorySelector:he,TagSelector:st,TransitionGroup:o.W3},setup(){const e=H(),t=P();async function r(){await t.loadData(),await e.loadData()}r();const o=A(),a=I();return{resourceStore:e,categoryFilters:o,tagStore:a}}});const Et=(0,M.Z)(Ht,[["render",Lt],["__scopeId","data-v-2422a7c4"]]);var Nt=Et;const Wt=(0,n._)("div",{class:"search"},[(0,n._)("h1",null,"Search Results")],-1),$t={key:0},qt={key:1};function Zt(e,t,r,a,s,i){const l=(0,n.up)("ResourceCard");return(0,n.wg)(),(0,n.iD)("div",null,[Wt,e.resourceStore.loading?((0,n.wg)(),(0,n.iD)("h3",$t,"Loading...")):(0,n.kq)("",!0),!e.resourceStore.loading&&e.resourceStore.error?((0,n.wg)(),(0,n.iD)("h3",qt,(0,de.zw)(e.resourceStore.error),1)):(0,n.kq)("",!0),e.resourceStore?((0,n.wg)(),(0,n.j4)(o.W3,{key:2,tag:"div",name:"fade",style:{display:"flex","flex-wrap":"wrap"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resourceStore.userSearchResults(),(e=>((0,n.wg)(),(0,n.j4)(l,{style:{margin:"5px"},key:e.id,resource:e},null,8,["resource"])))),128))])),_:1})):(0,n.kq)("",!0)])}var Rt=(0,n.aZ)({name:"SearchPage",components:{ResourceCard:Ne},props:{q:{type:String}},setup(e){const t=Z(),r=(0,ee.yj)(),o=r.query.q;"string"!==typeof o&&o&&o?.toString(),console.log(typeof o),console.log(o);const a=H(),n=P();async function s(){await n.loadData(),await a.loadData()}s();const i=(0,v.iH)(a.userSearchResults());return console.log(i.value),{resourceStore:a,resourceSearchResults:i,userStore:t}}});const Mt=(0,M.Z)(Rt,[["render",Zt]]);var Ut=Mt;const Kt={class:"organization"},Yt={class:"card-text"};function Qt(e,t,r,o,a,s){return(0,n.wg)(),(0,n.iD)("div",Kt,[(0,n._)("h1",null,(0,de.zw)(e.organization.Name),1),(0,n._)("span",{class:"badge rounded-pill",style:(0,de.j5)({backgroundColor:e.chipStyles(e.organization.Expertise).color})},(0,de.zw)(e.chipStyles(e.organization.Expertise).emoji)+" "+(0,de.zw)(e.organization.Expertise),5),(0,n._)("p",Yt,(0,de.zw)(e.organization.Notes),1)])}var Gt=(0,n.aZ)({props:{id:{type:String}},name:"OrganizationDetails",setup(e){const t=(0,ee.yj)(),r=t.params.id,o=h,a=P();async function n(){await a.loadData()}n();const s=a.lookup[r];return{route:t,currentId:r,organizationStore:a,organization:s,chipStyles:o}}});const Vt=(0,M.Z)(Gt,[["render",Qt]]);var Xt=Vt;const Jt={key:0,class:"resource container"},er={class:"card-text"},tr={key:0,class:"file-container"};function rr(e,t,r,o,a,s){const i=(0,n.up)("FileCard");return e.resource.value?((0,n.wg)(),(0,n.iD)("div",Jt,[(0,n._)("h1",null,(0,de.zw)(e.resource.value.Name),1),(0,n._)("span",{class:"badge rounded-pill",style:(0,de.j5)({backgroundColor:e.chipStyles(e.resource.value.Provides).color})},(0,de.zw)(e.chipStyles(e.resource.value.Provides).emoji)+" "+(0,de.zw)(e.resource.value.Provides),5),(0,n._)("p",er,(0,de.zw)(e.resource.value.Notes),1),e.resource.value["Forms & Files"]&&e.fileStore.loaded?((0,n.wg)(),(0,n.iD)("div",tr,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resource.value["Forms & Files"],(e=>((0,n.wg)(),(0,n.j4)(i,{key:e,id:e},null,8,["id"])))),128))])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)}var or=(0,n.aZ)({components:{FileCard:bt},props:{id:{type:String}},name:"ResourceDetails",setup(){const e=(0,ee.yj)(),t=e.params.id,r=h,o=H(),a=W(),n=(0,v.qj)({value:o.lookup[t]});async function s(){await o.loadData(),await a.loadData(),n.value=o.lookup[t]}function i(){n.value&&n.value["Forms & Files"]&&n.value["Forms & Files"]?.forEach((e=>{}))}return s(),i(),{getFileData:i,fileStore:a,route:e,currentId:t,resourceStore:o,resource:n,chipStyles:r}}});const ar=(0,M.Z)(or,[["render",rr],["__scopeId","data-v-59da4549"]]);var nr=ar;(0,n.aZ)({template:'<div style="width: 100%; height: 1vh; background-color:black;">Hello world</div>'});const sr=[{path:"/",name:"home",component:kt},{path:"/organizations/:id",name:"org",component:Xt},{path:"/organizations/",name:"organizations",component:At},{path:"/resources/",name:"resources",component:Nt},{path:"/resource/:id",name:"resource-details",component:nr},{path:"/search/",name:"search",component:Ut}],ir=(0,ee.p7)({history:(0,ee.r5)(),routes:sr});var lr=ir;const cr=(0,a.WB)();(0,o.ri)(J).use(cr).use(lr).mount("#app")}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,o,a,n){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],n=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((function(e){return r.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,a,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,s=o[0],i=o[1],l=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var u=l(r)}for(t&&t(o);c<s.length;c++)n=s[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},o=self["webpackChunkneed_help_missoula"]=self["webpackChunkneed_help_missoula"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(6502)}));o=r.O(o)})();
//# sourceMappingURL=app.ad0858d8.js.map
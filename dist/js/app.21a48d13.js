(function(){"use strict";var e={5898:function(e,t,r){var o=r(9242),a=r(1020),n=(r(8052),r(3396));function i(e,t,r,o,a,i){const s=(0,n.up)("NavBar"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(s),(0,n.Wm)(l)],64)}const s={class:"navbar navbar-expand-lg bg-light"},l={class:"container-fluid"},c=(0,n._)("a",{class:"navbar-brand",href:"#"},"Need Help Missoula",-1),u={class:"navbar-nav"};function d(e,t,r,o,a,i){const d=(0,n.up)("MainSearchBar"),g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",s,[(0,n._)("div",l,[c,(0,n.Wm)(d,{style:{"max-width":"300px"}}),(0,n._)("div",u,[(0,n.Wm)(g,{class:"nav-link","aria-current":"page",to:{name:"organizations"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Organizations")])),_:1}),(0,n.Wm)(g,{class:"nav-link",to:{name:"resources"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Resources")])),_:1})])])])}const g={class:"input-group mb-3"},p={type:"button",class:"input-group-text btn btn-outline-secondary"};function f(e,t,r,o,a,i){const s=(0,n.up)("BIconSearch"),l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("input",{ref:"inputBar",onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),type:"search",class:"form-control","aria-label":"Search Form"},null,544),(0,n.Wm)(l,{to:`/search/?q=${e.searchText}`},{default:(0,n.w5)((()=>[(0,n._)("button",p,[(0,n.Wm)(s)])])),_:1},8,["to"])])}var v=r(4870),y=r(6060);const h=(e,t)=>{let r;switch(t||(r=1),e){case"Housing":return{color:`rgba(10, 132, 165, ${r})`,emoji:"🏠"};case"Food":return{color:`rgba(156, 216, 102, ${r})`,emoji:"🥪"};case"Legal":return{color:`rgba(128, 128, 128, ${r})`,emoji:"⚖️"};case"Academics":return{color:`rgba(112, 0, 46, ${r})`,emoji:"📖"};case"Healthcare":return{color:`rgba(255, 160, 87, ${r})`,emoji:"💊"};default:return{color:"blue",emoji:""}}},b=()=>Array.from(["Academics","Food","Healthcare","Housing","Legal","Misc"]);var w,m,k,S,_,D,x;r(7658),r(541);function F(e,t,r){return r.indexOf(e)===t}(function(e){e["Easy"]="Easy",e["Hard"]="Hard",e["Medium"]="Medium"})(w||(w={})),function(e){e["Food"]="Food",e["Housing"]="Housing",e["Healthcare"]="Healthcare",e["Legal"]="Legal",e["Misc"]="Misc",e["Academics"]="Academics"}(m||(m={})),function(e){e["favorite"]="fav",e["filtered"]="filter",e["lessInterested"]="down",e["none"]="none"}(k||(k={})),function(e){e[e["favorite"]=1]="favorite",e[e["none"]=0]="none",e[e["lessInterested"]=-1]="lessInterested",e[e["filtered"]=-2]="filtered"}(S||(S={})),function(e){e[e["deleteNone"]=0]="deleteNone",e[e["insertAfer"]=1]="insertAfer",e[e["removeOne"]=1]="removeOne"}(_||(_={})),function(e){e[e["before"]=1]="before",e[e["after"]=-1]="after"}(D||(D={})),function(e){e[e["doesntexist"]=-1]="doesntexist"}(x||(x={}));const z=(0,a.Q_)("tagStore",(()=>{const e=A(),t=L(),r=$(),o=(0,v.iH)([""]),a=(0,v.iH)({}),i=(0,v.iH)({});async function s(){await t.loadData();const e=t.arr?.reduce(((e,t)=>{if(!t.Tags)return[""];if(!i.value)return[""];const r=i.value[t.Provides];return!r&&t&&t.Tags?i.value[t.Provides]=[...t.Tags]:t&&t.Tags&&i.value[t.Provides].push(...t.Tags),t.Tags.forEach((r=>{a.value[r]?a.value[r].categories=[t.Provides,...a.value[r].categories]:a.value[r]={categories:[t.Provides],status:k.none,priority:S.none},-1===e.indexOf(r)&&e.push(r)})),e||[""]}),[]);//! end loop making tag array
Object.keys(i.value).forEach((e=>{i.value[e]=i.value[e].filter(F)})),e&&(o.value=e)}//! end of loadAllTags
const l=(0,v.iH)([""]);function c(e){const t=l.value.indexOf(e);t!==x.doesntexist&&l.value.splice(t,1)}const u=(0,v.iH)([""]);function d(e){const r=u.value.indexOf(e);r!==x.doesntexist&&(u.value.splice(r,1),t.updateAllPriorities())}const g=(0,v.iH)([""]);function p(e){const r=g.value.indexOf(e);r!==x.doesntexist&&(g.value.splice(r,1),t.updateAllPriorities())}const f=(0,v.iH)([""]);function y(e,t,o){if(!1===r.tagSettings.sortTags)return;const n=f.value.indexOf(e);f.value.splice(n,_.removeOne);const i=f.value.map((e=>a.value[e].priority),[]);if(o===S.lessInterested){const t=i.indexOf(S.lessInterested),r=i.indexOf(S.filtered);let o=i.length;t!==x.doesntexist?o=t:r!==x.doesntexist&&(o=r),f.value.splice(o,_.deleteNone,e)}else if(o===S.filtered){const t=i.indexOf(S.filtered),r=t>x.doesntexist?t:i.length;f.value.splice(r,_.deleteNone,e)}else if(o===S.favorite){const t=i.lastIndexOf(S.favorite)+_.insertAfer;t===x.doesntexist?f.value.unshift(e):f.value.splice(t,_.deleteNone,e)}else if(o===S.none){const r=i.indexOf(S.none),o=i.lastIndexOf(S.none);t===S.favorite?f.value.splice(r,_.deleteNone,e):f.value.splice(o+_.insertAfer,_.deleteNone,e)}else f.value.push(e)}const h=(e,t)=>{const r=a.value[e].priority,o=a.value[t].priority;return r>o?D.after:r<o?D.before:e.localeCompare(t)};async function b(){o.value[0]||await s();const t=e.filters;let r=Object.entries(i.value).filter((e=>{const r=e[0];return t.indexOf(r)===x.doesntexist})).flatMap((e=>{const t=e[1];return t})).filter(F);r||(r=["No Active Categories :("]),f.value=r.sort(h)}function w(){const e=[...l.value];return e.indexOf("")!==x.doesntexist&&e.splice(e.indexOf(""),1),new RegExp(e.join("|").replace("^\\|",""))}function m(e){const r=Number(a.value[e].priority);a.value[e].status=k.none,a.value[e].priority=S.none,d(e),c(e),p(e),y(e,r,S.none),t.updateAllPriorities()}function z(){Object.keys(a.value).forEach((e=>{m(e)})),t.updateAllPriorities(),b()}function I(e,t){switch(t){case S.favorite:a.value[e].status=k.favorite;break;case S.none:a.value[e].status=k.none;break;case S.lessInterested:a.value[e].status=k.lessInterested;break;case S.filtered:a.value[e].status=k.filtered;break;default:console.error("Default case in tagStore.priorityToStatus() triggered."),a.value[e].status=k.none,a.value[e].priority=S.none}}function T(e){const t=Number(a.value[e].priority);let r=t+1;r>S.favorite&&(r=S.favorite),a.value[e].priority=r,I(e,r),y(e,t,r)}function C(e){const t=Number(a.value[e].priority);let r=t-1;r<S.filtered&&(r=S.filtered),a.value[e].priority=r,I(e,r),y(e,t,r)}function O(e){const r=Number(a.value[e].priority);a.value[e].status=k.favorite,a.value[e].priority=S.favorite,c(e),p(e),y(e,r,S.favorite),null!==t.arr&&(u.value=[...u.value,e],t.updateAllPriorities())}function j(e){d(e),m(e)}function P(e){a.value[e].status===k.favorite?j(e):O(e)}const B=(0,n.Fl)((()=>e=>-1!==u.value.indexOf(e))),H=(0,n.Fl)((()=>e=>{if(!e)return!1;if(l.value.length<=1)return!1;const t=e.reduce(((e,t)=>`${e} ${t}`),""),r=w();return r.test(t)}));function E(e){const t=Number(a.value[e].priority);l.value=[...l.value,e],a.value[e].status=k.filtered,a.value[e].priority=S.filtered,d(e),p(e),y(e,t,S.filtered)}function N(e){m(e),c(e)}function W(e){const t=a.value[e].status===k.filtered;t?N(e):E(e)}const q=(0,n.Fl)((()=>e=>-1!==l.value.indexOf(e)));function Z(e){const r=Number(a.value[e].priority);a.value[e].status=k.lessInterested,a.value[e].priority=S.lessInterested,d(e),c(e),y(e,r,S.lessInterested),g.value=[...g.value,e],t.updateAllPriorities()}function R(e){m(e),p(e)}function M(e){a.value[e].status===k.lessInterested?R(e):Z(e)}const U=(0,n.Fl)((()=>e=>-1!==g.value.indexOf(e)));return{allTags:o,loadAllTags:s,tagLookup:a,activeCategoryTags:f,updateActiveCategoryTags:b,addFavorite:O,removeFavorite:j,toggleFavorite:P,isFavorite:B,filters:l,isFiltered:q,isFilterInArray:H,toggleFilter:W,addFilter:E,removeFilter:N,removeLessInterested:R,addLessInterested:Z,togglelessInterested:M,isLessInterested:U,resetPriorityAll:z,resetPriority:m,bumpPriority:T,dropPriority:C}}));var I=z;const T=(0,a.Q_)("categoryFilterStore",(()=>{const e=(0,v.iH)([""]),t=I(),r=(0,n.Fl)((()=>new RegExp(e.value.join("|"))));function o(t){const r=e.value.indexOf(t);return-1!==r}function a(r){e.value=[...e.value,r],t.updateActiveCategoryTags()}function i(r){const o=e.value.indexOf(r);o<-1||(e.value.splice(o,1),t.updateActiveCategoryTags())}function s(t){const r=-1!==e.value.indexOf(t);return r?i(t):a(t)}function l(){e.value=[""],t.updateActiveCategoryTags()}function c(){e.value=b(),t.updateActiveCategoryTags()}return{filters:e,getFilter:r,isFiltered:o,toggleFilter:s,addFilter:a,removeFilter:i,clearFilters:l,filterAll:c}}));var A=T;const C="http://127.0.0.1:3000/organizations",O=(0,a.Q_)("organizationStore",{state:()=>({loaded:!1,loading:!1,error:"",arr:[],lookup:{}}),actions:{async loadData(){if(!this.loaded){this.loading=!0;try{const e=await fetch(C,{headers:{accept:"application/json"}});if(e.ok){const t=await e.json();this.arr=t,this.createLookupTable(),this.loaded=!0,this.loading=!1}else this.error="Error fetching data",this.loading=!1}catch(e){this.error=`Error fetching data. ${e.message}`,this.loading=!1}}},createLookupTable(){this.arr&&this.arr.forEach((e=>{this.lookup[e.id]=e}))}}});var j=O;const P="http://127.0.0.1:3000/resources",B=(0,a.Q_)("resourceStore",{state:()=>({dataLoaded:!1,loading:!1,error:"",arr:[],lookup:{}}),actions:{async loadData(){if(!0!==this.dataLoaded){this.loading=!0;try{const e=await fetch(P,{headers:{accept:"application/json"}});if(!0===e.ok){const t=await e.json();this.arr=t,this.createLookupTable(),this.dataLoaded=!0,this.loading=!1}else this.error="Error fetching data",this.loading=!1}catch(e){this.error=`Error fetching data. ${e.message}`,this.loading=!1}}},createLookupTable(){null!==this.arr&&this.arr.forEach((e=>{this.lookup[e.id]=e,this.lookup[e.id].priority=S.none}))},changeResourcePriority(e,t){const r=this.arr?.indexOf(e);void 0!==r&&null!==this.arr&&(this.arr[r].priority=t)},updateAllPriorities(){if(null===this.arr)return;const e=I();this.arr.forEach((t=>{const r=t.Tags.reduce(((t,r)=>t+e.tagLookup[r].priority),0);this.changeResourcePriority(t,r)}))}},getters:{filteredArray:e=>{if(!e.arr)return[];const t=A(),r=I(),o=e.arr.filter((e=>{if(!e.Tags)return!1;const o=t.isFiltered(e.Provides);if(o)return!1;const a=r.isFilterInArray(e.Tags);return!a}));return o.sort(((e,t)=>t.priority-e.priority))},userSearchResults:e=>()=>{const t=$(),r=t.searchRegEx;if(null===e.arr)return[];const o=e.arr.filter((e=>{const t=`${e.Name} \n          ${e.Provides} ${e.Tags.join(" ")}\n          ${e.Notes}`;return r.test(t)}));return o}}});var L=B;const H="http://127.0.0.1:3000/files",E=(0,a.Q_)("fileStore",{state:()=>({loaded:!1,loading:!1,error:"",arr:[],lookup:{}}),actions:{async loadData(){if(!this.loaded){this.loading=!0;try{const e=await fetch(H,{headers:{accept:"application/json"}});if(e.ok){const t=await e.json();this.arr=t,this.createLookupTable(),this.loaded=!0,this.loading=!1}else this.error="Error fetching data",this.loading=!1}catch(e){this.error=`Error fetching data. ${e.message}`,this.loading=!1}}},createLookupTable(){this.arr&&this.arr.forEach((e=>{this.lookup[e.id]=e}))}}});var N=E;function W(e){const t=e.split("").map(((t,r,o)=>r<o.length-1?`${e.substr(0,r)+t}?.?${e.substr(r+1)}`:""));if(!t)return"";t.pop();const r=`( |^)(${t.join("|")})`;return console.log(r),r}const q=(0,a.Q_)("userStore",(()=>{const e=I(),t=(0,v.iH)({sortTags:!0}),r=(0,v.iH)(""),o=(0,n.Fl)((()=>RegExp(W(r.value)||"","gi")));function a(){t.value.sortTags=!t.value.sortTags,e.updateActiveCategoryTags()}function i(e){r.value=e}return{tagSettings:t,toggleSortTags:a,searchString:r,updateSearchString:i,searchRegEx:o}}));var $=q,Z=(0,n.aZ)({components:{BIconSearch:y.Lln},setup(){const e=(0,v.iH)(""),t=(0,v.iH)(null),r=$();function o(o){if(!t.value)return;const a=t.value.value.replaceAll(" ","+");e.value=a,r.updateSearchString(a)}return{searchText:e,handleInput:o,inputBar:t}}}),R=r(89);const M=(0,R.Z)(Z,[["render",f]]);var U=M,K=(0,n.aZ)({components:{MainSearchBar:U},setup(){}});const Y=(0,R.Z)(K,[["render",d]]);var Q=Y,G=(0,n.aZ)({components:{NavBar:Q}});const V=(0,R.Z)(G,[["render",i]]);var X=V,J=r(2483);const ee={class:"home container"},te=(0,n._)("h1",null,"Welcome to Need Help Missoula",-1),re=(0,n._)("p",null," We hope to provide an accessible, easy to use portal to resources and organizations in Missoula and Western Montana. ",-1),oe=(0,n._)("h2",null,"How it's organized",-1),ae=(0,n._)("p",null,"This website is organized in 3 pages.",-1),ne=(0,n._)("h3",null,"Resources",-1),ie=(0,n._)("p",null,[(0,n.Uk)(" The "),(0,n._)("a",{href:"/#/resources"},"resources page"),(0,n.Uk)(" a filterable database of different services, programs, mutual aid efforts, and more. ")],-1),se=(0,n._)("h3",null,"Organizations",-1),le=(0,n._)("p",null,[(0,n.Uk)(" The "),(0,n._)("a",{href:"/#/organizations"},"organizations page"),(0,n.Uk)(" is your source for information of different organizations in the Missoula area, where they get their funding, who they serve, and how to contact them. ")],-1);function ce(e,t,r,o,a,i){const s=(0,n.up)("CategorySelector"),l=(0,n.up)("TagSelector"),c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",ee,[te,(0,n.Wm)(s),(0,n.Wm)(l),re,oe,ae,(0,n.Wm)(c,{class:"nav-link","aria-current":"page",to:{name:"resources"}},{default:(0,n.w5)((()=>[ne])),_:1}),ie,(0,n.Wm)(c,{class:"nav-link","aria-current":"page",to:{name:"organizations"}},{default:(0,n.w5)((()=>[se])),_:1}),le])}var ue=r(7139);const de={key:0},ge=["onClick"];function pe(e,t,r,o,a,i){return e.providesArr?((0,n.wg)(),(0,n.iD)("div",de,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.providesArr,(t=>((0,n.wg)(),(0,n.iD)("button",{type:"button",onClick:r=>e.categoryFilters.toggleFilter(t),class:(0,ue.C_)("btn "+(e.categoryFilters.isFiltered(t)?"btn-light":"")),key:t,style:(0,ue.j5)(e.categoryFilters.isFiltered(t)?"":`background-color: ${e.buttonStyles(t).color}`)},(0,ue.zw)(e.buttonStyles(t).emoji)+" "+(0,ue.zw)(t),15,ge)))),128)),(0,n._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=t=>e.categoryFilters.clearFilters())}," View All "),(0,n._)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=t=>e.categoryFilters.filterAll())}," Hide All ")])):(0,n.kq)("",!0)}var fe=(0,n.aZ)({components:{},setup(){const e=L(),t=j();async function r(){await e.loadData(),await t.loadData()}r();const o=A(),a=h,n=b();return{orgStore:t,providesArr:n,categoryFilters:o,resourceStore:e,buttonStyles:a}}});const ve=(0,R.Z)(fe,[["render",pe],["__scopeId","data-v-3ef43d68"]]);var ye=ve;const he={class:"card",style:{width:"100%"}},be={key:0,class:"card-body"},we={class:"card-title"},me={class:"card-text"};function ke(e,t,r,o,a,i){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",he,[r.organization?((0,n.wg)(),(0,n.iD)("div",be,[(0,n._)("h5",we,(0,ue.zw)(r.organization.Name),1),(0,n._)("span",{class:"badge rounded-pill",style:(0,ue.j5)({backgroundColor:o.providesChipStyles(r.organization.Expertise).color})},(0,ue.zw)(o.providesChipStyles(r.organization.Expertise).emoji)+" "+(0,ue.zw)(r.organization.Expertise),5),(0,n._)("p",me,(0,ue.zw)(r.organization.Notes),1),(0,n.Wm)(s,{to:"/organizations/"+r.organization.id,class:"btn btn-primary"},{default:(0,n.w5)((()=>[(0,n.Uk)(" More Information")])),_:1},8,["to"])])):(0,n.kq)("",!0)])}var Se={props:{organization:{type:Object}},setup(){const e=h;return{providesChipStyles:e}}};const _e=(0,R.Z)(Se,[["render",ke]]);var De=_e;const xe=e=>((0,n.dD)("data-v-23c730b3"),e=e(),(0,n.Cn)(),e),Fe={key:0,class:(0,ue.C_)("card resource-card")},ze={key:0,class:"card-body"},Ie={class:"card-title"},Te={class:"flex-container"},Ae=xe((()=>(0,n._)("h6",{class:"provides-header"},"Provides:",-1))),Ce={class:"flex-container"},Oe={key:0,class:"card-text"},je={key:1},Pe=xe((()=>(0,n._)("button",{class:"btn btn-primary"},"More Information",-1)));function Be(e,t,r,o,a,i){const s=(0,n.up)("router-link");return o.isFiltered.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Fe,[r.resource?((0,n.wg)(),(0,n.iD)("div",ze,[(0,n._)("h5",Ie,(0,ue.zw)(r.resource.Name),1),(0,n._)("p",null,"Priority: "+(0,ue.zw)(r.resource.priority),1),(0,n._)("div",Te,[Ae,(0,n._)("span",{class:"badge rounded-pill flex-container",style:(0,ue.j5)({backgroundColor:o.categoryChipStyles(r.resource.Provides).color})},(0,ue.zw)(r.resource.Provides)+" "+(0,ue.zw)(o.categoryChipStyles(r.resource.Provides).emoji),5)]),(0,n._)("div",Ce,[(0,n._)("p",null,[(0,n.Uk)("Tags: "),(0,n._)("span",null,(0,ue.zw)(o.tagList),1)])]),r.resource.Notes?((0,n.wg)(),(0,n.iD)("p",Oe,(0,ue.zw)(r.resource.Notes.slice(0,200).replace(/ \w+$| $/i,"...")),1)):(0,n.kq)("",!0),r.resource["Organizations"]?((0,n.wg)(),(0,n.iD)("div",je,[(0,n.Uk)(" Get help from "),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.resource["Organizations"],(e=>((0,n.wg)(),(0,n.j4)(s,{style:{margin:"5px"},key:e,to:"/organizations/"+e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,ue.zw)(o.organizationStore.lookup[e].Name),1)])),_:2},1032,["to"])))),128))])):(0,n.kq)("",!0),(0,n.Wm)(s,{to:"/resource/"+r.resource.id},{default:(0,n.w5)((()=>[Pe])),_:1},8,["to"])])):(0,n.kq)("",!0)]))}var Le={props:{resource:{type:Object}},setup(e){const t=j(),r=I(),o=(0,v.iH)(e.resource&&e.resource.Tags?e.resource.Tags:[""]),a=o.value.reduce(((e,t)=>`${e}, ${t}`)),n=(0,v.qj)({value:!1}),i=(0,v.qj)({value:!1});function s(){let e=!1,t=!1;o.value.forEach((o=>{r.tagLookup[o]&&(r.tagLookup[o].status===k.favorite?(n.value=!0,t=!0):n.value=!1,r.tagLookup[o].status===k.filtered?(i.value=!0,e=!0):e||(i.value=!1))}))}return r.$subscribe((()=>{s()})),{categoryChipStyles:h,tagList:a,tagStore:r,organizationStore:t,isFavorite:n,isFiltered:i}}};const He=(0,R.Z)(Le,[["render",Be],["__scopeId","data-v-23c730b3"]]);var Ee=He;const Ne=e=>((0,n.dD)("data-v-e32c0b76"),e=e(),(0,n.Cn)(),e),We={key:0,class:"accordion accordion-flush",id:"tag-filter-menu"},qe={class:"accordion-item"},$e=Ne((()=>(0,n._)("h2",{class:"accordion-header",id:"flush-headingOne"},[(0,n._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," Tags ")],-1))),Ze={id:"flush-collapseOne",class:"accordion-collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"},Re={class:"accordion-body tag-container"};function Me(e,t,r,a,i,s){const l=(0,n.up)("BIconArrowRepeat"),c=(0,n.up)("BIconArrowDownUp"),u=(0,n.up)("BIconLock"),d=(0,n.up)("TagButton");return e.tagFilterStore.allTags?((0,n.wg)(),(0,n.iD)("div",We,[(0,n._)("div",qe,[$e,(0,n._)("div",Ze,[(0,n._)("div",Re,[(0,n._)("button",{onClick:t[0]||(t[0]=(...t)=>e.tagFilterStore.resetPriorityAll&&e.tagFilterStore.resetPriorityAll(...t)),type:"button",class:"btn btn-outline-secondary"},[(0,n.Wm)(l),(0,n.Uk)(" Reset Tags ")]),(0,n._)("button",{onClick:t[1]||(t[1]=(...t)=>e.userStore.toggleSortTags&&e.userStore.toggleSortTags(...t)),type:"button",class:"btn btn-outline-secondary"},[e.userStore.tagSettings.sortTags?((0,n.wg)(),(0,n.j4)(u,{key:1})):((0,n.wg)(),(0,n.j4)(c,{key:0})),(0,n.Uk)(" "+(0,ue.zw)(e.userStore.tagSettings.sortTags?"Lock Tags":"Sort Tags"),1)]),e.tagFilterStore.activeCategoryTags[0]?((0,n.wg)(),(0,n.j4)(o.W3,{key:0,tag:"div",name:"fade",class:"tag-container"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tagFilterStore.activeCategoryTags,(e=>((0,n.wg)(),(0,n.j4)(d,{key:e||"tag",tag:e},null,8,["tag"])))),128))])),_:1})):(0,n.kq)("",!0)])])])])):(0,n.kq)("",!0)}const Ue=["aria-label"],Ke={key:0},Ye={key:1},Qe={key:0},Ge={key:1},Ve={key:0},Xe={key:1};function Je(e,t,r,a,i,s){const l=(0,n.up)("BIconArrowBarDown"),c=(0,n.up)("BIconArrowUp"),u=(0,n.up)("BIconArrowBarUp"),d=(0,n.up)("BIconArrowDown"),g=(0,n.up)("BIconEye"),p=(0,n.up)("BIconXLg");return(0,n.wg)(),(0,n.iD)("div",{class:"btn-group tag-btn",role:"group",ref:"groupRef",onKeydown:[t[10]||(t[10]=(0,o.D2)((t=>e.bumpPriority(e.tag)),["up"])),t[11]||(t[11]=(0,o.D2)((t=>e.bumpPriority(e.tag)),["w"])),t[12]||(t[12]=(0,o.D2)((t=>e.dropPriority(e.tag)),["down"])),t[13]||(t[13]=(0,o.D2)((t=>e.dropPriority(e.tag)),["s"])),t[14]||(t[14]=(0,o.D2)((t=>e.tagStore.addFilter(e.tag)),["esc"])),t[15]||(t[15]=(0,o.D2)((t=>e.tagStore.addFilter(e.tag)),["x"])),t[16]||(t[16]=(0,o.D2)((t=>e.tagStore.resetPriority(e.tag)),["delete"])),t[17]||(t[17]=(0,o.D2)((0,o.iM)((t=>e.tagStore.resetPriority(e.tag)),["exact"]),["r"])),t[18]||(t[18]=(0,o.D2)((0,o.iM)((t=>e.tagStore.resetPriorityAll()),["ctrl","exact"]),["z"]))],"aria-label":`${e.tag} options buttons`},[(0,n._)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.tagStore.toggleFavorite(e.tag)),onKeydown:[t[1]||(t[1]=(0,o.D2)(((...t)=>e.focusLessInterested&&e.focusLessInterested(...t)),["right"])),t[2]||(t[2]=(0,o.D2)(((...t)=>e.focusFilter&&e.focusFilter(...t)),["left"]))],tabIndex:"0",ref:"favoriteButton",class:(0,ue.C_)(`btn tag-utility-btn\n    ${e.getButtonStyles().background}`)},[e.tagStore.isFavorite(e.tag)?((0,n.wg)(),(0,n.iD)("span",Ke,[(0,n.Wm)(l)])):((0,n.wg)(),(0,n.iD)("span",Ye,[(0,n.Wm)(c)]))],34),(0,n._)("button",{type:"button",tabIndex:"-1",class:(0,ue.C_)(`btn tag-main-btn ${e.getButtonStyles().background}`),onClick:t[3]||(t[3]=t=>e.tagStore.resetPriority(e.tag))},(0,ue.zw)(e.tag),3),(0,n._)("button",{type:"button",tabIndex:"-1",ref:"lessInterestedButton",onClick:t[4]||(t[4]=t=>e.tagStore.togglelessInterested(e.tag)),onKeydown:[t[5]||(t[5]=(0,o.D2)(((...t)=>e.focusFilter&&e.focusFilter(...t)),["right"])),t[6]||(t[6]=(0,o.D2)(((...t)=>e.focusFavorite&&e.focusFavorite(...t)),["left"]))],class:(0,ue.C_)(`btn tag-utility-btn ${e.getButtonStyles().background}`)},[e.tagStore.isLessInterested(e.tag)?((0,n.wg)(),(0,n.iD)("span",Qe,[(0,n.Wm)(u)])):((0,n.wg)(),(0,n.iD)("span",Ge,[(0,n.Wm)(d)]))],34),(0,n._)("button",{type:"button",tabIndex:"-1",ref:"filterButton",onClick:t[7]||(t[7]=t=>e.tagStore.toggleFilter(e.tag)),onKeydown:[t[8]||(t[8]=(0,o.D2)(((...t)=>e.focusLessInterested&&e.focusLessInterested(...t)),["left"])),t[9]||(t[9]=(0,o.D2)(((...t)=>e.focusFavorite&&e.focusFavorite(...t)),["right"]))],class:(0,ue.C_)(`btn tag-utility-btn ${e.getButtonStyles().background}`)},[e.tagStore.isFiltered(e.tag)?((0,n.wg)(),(0,n.iD)("span",Ve,[(0,n.Wm)(g)])):((0,n.wg)(),(0,n.iD)("span",Xe,[(0,n.Wm)(p)]))],34)],40,Ue)}var et=(0,n.aZ)({props:["tag"],components:{BIconXLg:y.hOD,BIconArrowUp:y.BNN,BIconArrowDown:y.pfg,BIconArrowBarDown:y.Btd,BIconArrowBarUp:y.dVK,BIconEye:y.unT},setup(e){const t=(0,v.iH)(null),r=(0,v.iH)(null),o=(0,v.iH)(null),a=I(),n=(0,v.iH)(k.favorite),i=(0,v.qj)({background:"btn-light",text:"grey"});function s(){if(!a.tagLookup[e.tag].status)return i;switch(a.tagLookup[e.tag].status){case k.none:i.background="btn-light",i.text="grey";break;case k.favorite:i.background="btn-success",i.text="white";break;case k.filtered:i.background="btn-danger",i.text="white";break;case k.lessInterested:i.background="btn-secondary",i.text="white";break;default:i.background="btn-light",i.text="grey";break}return i}function l(e){e&&(document.activeElement?.setAttribute("tabIndex","-1"),e.focus(),e.setAttribute("tabIndex","0"))}function c(){setTimeout((()=>{l(r.value),n.value=k.lessInterested}),100)}function u(){l(o.value),setTimeout((()=>{n.value=k.filtered}),100)}function d(){setTimeout((()=>{l(t.value),n.value=k.favorite}),100)}function g(){switch(n.value){case k.favorite:t.value?.focus();break;case k.lessInterested:r.value?.focus();break;case k.filtered:o.value?.focus();break;default:t.value?.focus()}}function p(e){a.bumpPriority(e),setTimeout(g,100)}function f(e){a.dropPriority(e),setTimeout(g,100)}return{focusLessInterested:c,focusFavorite:d,focusFilter:u,favoriteButton:t,filterButton:o,lessInterestedButton:r,tagStore:a,getButtonStyles:s,buttonStyles:i,bumpPriority:p,dropPriority:f}}});const tt=(0,R.Z)(et,[["render",Je],["__scopeId","data-v-fa3d0e40"]]);var rt=tt,ot=(0,n.aZ)({components:{TagButton:rt,TransitionGroup:o.W3,BIconArrowDownUp:y.Q48,BIconLock:y.MJF,BIconArrowRepeat:y.Bxx},setup(){const e=I(),t=L(),r=$();async function o(){await t.loadData(),await e.loadAllTags()}function a(t,r){const o=e.tagLookup[t].priority,a=e.tagLookup[r].priority;return a-o}return o(),e.updateActiveCategoryTags(),{tagFilterStore:e,sortTagList:a,userStore:r}}});const at=(0,R.Z)(ot,[["render",Me],["__scopeId","data-v-e32c0b76"]]);var nt=at;const it=e=>((0,n.dD)("data-v-8ad77dc6"),e=e(),(0,n.Cn)(),e),st={class:"card file-card",style:{width:"35vw"}},lt={key:0,class:"thumb-holder"},ct=["src"],ut={key:1,class:"card-body"},dt={class:"card-title"},gt={class:"card-text"},pt=it((()=>(0,n._)("button",{class:"btn btn-primary"}," Open File",-1)));function ft(e,t,r,o,a,i){return(0,n.wg)(),(0,n.iD)("div",st,[o.file&&o.file.Attachments?((0,n.wg)(),(0,n.iD)("div",lt,[(0,n._)("img",{src:o.file.Attachments[0].thumbnails.large.url,class:"card-img-top file-thumb",alt:"..."},null,8,ct)])):(0,n.kq)("",!0),o.file?((0,n.wg)(),(0,n.iD)("div",ut,[(0,n._)("h5",dt,(0,ue.zw)(o.file.Name),1),(0,n._)("p",gt,(0,ue.zw)(o.file.Description),1),pt])):(0,n.kq)("",!0)])}var vt={props:{id:{type:String}},setup(e){const t=h,r=N(),o=(0,v.iH)(r.lookup[e.id||""]);return{providesChipStyles:t,fileStore:r,file:o}}};const yt=(0,R.Z)(vt,[["render",ft],["__scopeId","data-v-8ad77dc6"]]);var ht=yt,bt=(0,n.aZ)({components:{CategorySelector:ye,TagSelector:nt},setup(){const e=L(),t=j();async function r(){await e.loadData(),await t.loadData()}r();const o=A(),a=I(),n=e.arr?.map((e=>e.Provides)).filter(F).sort(((e,t)=>e-t));return{orgStore:t,providesArr:n,categoryFilters:o,resourceStore:e,tagStore:a}}});const wt=(0,R.Z)(bt,[["render",ce]]);var mt=wt;const kt={class:"organizations"},St=(0,n._)("h1",null,"Organizations",-1),_t={key:0},Dt={key:1},xt={key:2};function Ft(e,t,r,o,a,i){const s=(0,n.up)("CategorySelector"),l=(0,n.up)("OrganizationCard");return(0,n.wg)(),(0,n.iD)("div",kt,[St,(0,n.Wm)(s),(0,n._)("div",null,[e.orgStore.loading?((0,n.wg)(),(0,n.iD)("h3",_t,"Loading...")):(0,n.kq)("",!0),!e.orgStore.loading&&e.orgStore.error?((0,n.wg)(),(0,n.iD)("h3",Dt,(0,ue.zw)(e.orgStore.error),1)):(0,n.kq)("",!0),null!=e.orgStore.arr?((0,n.wg)(),(0,n.iD)("div",xt,[(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.orgStore.arr.filter((t=>!e.categoryFilters.isFiltered(t.Expertise))),(e=>((0,n.wg)(),(0,n.j4)(l,{key:e.id,organization:e},null,8,["organization"])))),128))])])):(0,n.kq)("",!0)])])}var zt=(0,n.aZ)({components:{OrganizationCard:De,CategorySelector:ye},setup(){const e=j(),t=L(),r=A();async function o(){await e.loadData(),await t.loadData()}o();const a=r.getFilter;return{orgStore:e,filterRegEx:a,categoryFilters:r}}});const It=(0,R.Z)(zt,[["render",Ft]]);var Tt=It;const At=e=>((0,n.dD)("data-v-5e991cf0"),e=e(),(0,n.Cn)(),e),Ct={class:"resourceStore"},Ot=At((()=>(0,n._)("h1",null,"Resources",-1))),jt={key:0},Pt={key:1};function Bt(e,t,r,a,i,s){const l=(0,n.up)("CategorySelector"),c=(0,n.up)("TagSelector"),u=(0,n.up)("ResourceCard");return(0,n.wg)(),(0,n.iD)("div",Ct,[Ot,(0,n.Wm)(l),(0,n.Wm)(c),(0,n._)("div",null,[e.resourceStore.loading?((0,n.wg)(),(0,n.iD)("h3",jt,"Loading...")):(0,n.kq)("",!0),!e.resourceStore.loading&&e.resourceStore.error?((0,n.wg)(),(0,n.iD)("h3",Pt,(0,ue.zw)(e.resourceStore.error),1)):(0,n.kq)("",!0),e.resourceStore.filteredArray?((0,n.wg)(),(0,n.j4)(o.W3,{key:2,tag:"div",name:"fade",style:{display:"flex","flex-wrap":"wrap"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resourceStore.filteredArray,(e=>((0,n.wg)(),(0,n.j4)(u,{style:{margin:"5px"},key:e.id,resource:e},null,8,["resource"])))),128))])),_:1})):(0,n.kq)("",!0)])])}var Lt=(0,n.aZ)({name:"ResourcesView",components:{ResourceCard:Ee,CategorySelector:ye,TagSelector:nt,TransitionGroup:o.W3},setup(){const e=L(),t=j();async function r(){await t.loadData(),await e.loadData()}r();const o=A(),a=I();return{resourceStore:e,categoryFilters:o,tagStore:a}}});const Ht=(0,R.Z)(Lt,[["render",Bt],["__scopeId","data-v-5e991cf0"]]);var Et=Ht;const Nt=(0,n._)("div",{class:"search"},[(0,n._)("h1",null,"Search Results")],-1),Wt={key:0},qt={key:1};function $t(e,t,r,a,i,s){const l=(0,n.up)("ResourceCard");return(0,n.wg)(),(0,n.iD)("div",null,[Nt,e.resourceStore.loading?((0,n.wg)(),(0,n.iD)("h3",Wt,"Loading...")):(0,n.kq)("",!0),!e.resourceStore.loading&&e.resourceStore.error?((0,n.wg)(),(0,n.iD)("h3",qt,(0,ue.zw)(e.resourceStore.error),1)):(0,n.kq)("",!0),e.resourceStore?((0,n.wg)(),(0,n.j4)(o.W3,{key:2,tag:"div",name:"fade",style:{display:"flex","flex-wrap":"wrap"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resourceStore.userSearchResults(),(e=>((0,n.wg)(),(0,n.j4)(l,{style:{margin:"5px"},key:e.id,resource:e},null,8,["resource"])))),128))])),_:1})):(0,n.kq)("",!0)])}var Zt=(0,n.aZ)({name:"SearchPage",components:{ResourceCard:Ee},props:{q:{type:String}},setup(e){const t=$(),r=(0,J.yj)(),o=r.query.q;"string"!==typeof o&&o&&o?.toString(),console.log(typeof o),console.log(o);const a=L(),n=j();async function i(){await n.loadData(),await a.loadData()}i();const s=(0,v.iH)(a.userSearchResults());return console.log(s.value),{resourceStore:a,resourceSearchResults:s,userStore:t}}});const Rt=(0,R.Z)(Zt,[["render",$t]]);var Mt=Rt;const Ut={class:"organization"},Kt={class:"card-text"};function Yt(e,t,r,o,a,i){return(0,n.wg)(),(0,n.iD)("div",Ut,[(0,n._)("h1",null,(0,ue.zw)(e.organization.Name),1),(0,n._)("span",{class:"badge rounded-pill",style:(0,ue.j5)({backgroundColor:e.chipStyles(e.organization.Expertise).color})},(0,ue.zw)(e.chipStyles(e.organization.Expertise).emoji)+" "+(0,ue.zw)(e.organization.Expertise),5),(0,n._)("p",Kt,(0,ue.zw)(e.organization.Notes),1)])}var Qt=(0,n.aZ)({props:{id:{type:String}},name:"OrganizationDetails",setup(e){const t=(0,J.yj)(),r=t.params.id,o=h,a=j();async function n(){await a.loadData()}n();const i=a.lookup[r];return{route:t,currentId:r,organizationStore:a,organization:i,chipStyles:o}}});const Gt=(0,R.Z)(Qt,[["render",Yt]]);var Vt=Gt;const Xt={key:0,class:"resource container"},Jt={class:"card-text"},er={key:0,class:"file-container"};function tr(e,t,r,o,a,i){const s=(0,n.up)("FileCard");return e.resource.value?((0,n.wg)(),(0,n.iD)("div",Xt,[(0,n._)("h1",null,(0,ue.zw)(e.resource.value.Name),1),(0,n._)("span",{class:"badge rounded-pill",style:(0,ue.j5)({backgroundColor:e.chipStyles(e.resource.value.Provides).color})},(0,ue.zw)(e.chipStyles(e.resource.value.Provides).emoji)+" "+(0,ue.zw)(e.resource.value.Provides),5),(0,n._)("p",Jt,(0,ue.zw)(e.resource.value.Notes),1),e.resource.value["Forms & Files"]&&e.fileStore.loaded?((0,n.wg)(),(0,n.iD)("div",er,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resource.value["Forms & Files"],(e=>((0,n.wg)(),(0,n.j4)(s,{key:e,id:e},null,8,["id"])))),128))])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)}var rr=(0,n.aZ)({components:{FileCard:ht},props:{id:{type:String}},name:"ResourceDetails",setup(){const e=(0,J.yj)(),t=e.params.id,r=h,o=L(),a=N(),n=(0,v.qj)({value:o.lookup[t]});async function i(){await o.loadData(),await a.loadData(),n.value=o.lookup[t]}function s(){n.value&&n.value["Forms & Files"]&&n.value["Forms & Files"]?.forEach((e=>{}))}return i(),s(),{getFileData:s,fileStore:a,route:e,currentId:t,resourceStore:o,resource:n,chipStyles:r}}});const or=(0,R.Z)(rr,[["render",tr],["__scopeId","data-v-59da4549"]]);var ar=or;(0,n.aZ)({template:'<div style="width: 100%; height: 1vh; background-color:black;">Hello world</div>'});const nr=[{path:"/",name:"home",component:mt},{path:"/organizations/:id",name:"org",component:Vt},{path:"/organizations/",name:"organizations",component:Tt},{path:"/resources/",name:"resources",component:Et},{path:"/resource/:id",name:"resource-details",component:ar},{path:"/search/",name:"search",component:Mt}],ir=(0,J.p7)({history:(0,J.r5)(),routes:nr});var sr=ir;const lr=(0,a.WB)();(0,o.ri)(X).use(lr).use(sr).mount("#app")}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,o,a,n){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],n=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(r.O).every((function(e){return r.O[e](o[l])}))?o.splice(l--,1):(s=!1,n<i&&(i=n));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,a,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,i=o[0],s=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)var u=l(r)}for(t&&t(o);c<i.length;c++)n=i[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(5898)}));o=r.O(o)})();
//# sourceMappingURL=app.21a48d13.js.map